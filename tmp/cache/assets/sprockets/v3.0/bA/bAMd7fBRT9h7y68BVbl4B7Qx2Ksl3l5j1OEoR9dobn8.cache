I"I(function() {
  var ready;

  ready = function() {
    var accountDashboardCalendar;
    accountDashboardCalendar = $("#account_dashboard_calendar");
    accountDashboardCalendar.fullCalendar($.extend({}, $.fn.fullCalendar.defaults, {
      defaultView: 'agendaDay',
      header: false,
      columnFormat: 'dddd D MMMM',
      events: accountDashboardCalendar.data('events-url'),
      eventRender: function(event, element) {
        element.data('url', '/lessons/' + event.id + '.json');
        return element.attr('id', 'lesson_' + event.id);
      },
      eventClick: function(calEvent, jsEvent, view) {
        WebuiPopovers.hideAll();
        $('#lessonModal .modal-content').load('/lessons/' + calEvent.id);
        return $('#lessonModal').modal('show');
      }
    }));
    if ($('#next_lesson_booking_panel').data('lessonUrl')) {
      return $('#next_lesson_booking_panel').click(function(e) {
        $('#lessonModal .modal-content').load($(this).data('lessonUrl'));
        return $('#lessonModal').modal('show');
      });
    }
  };

  $(document).ready(ready);

}).call(this);
:ET